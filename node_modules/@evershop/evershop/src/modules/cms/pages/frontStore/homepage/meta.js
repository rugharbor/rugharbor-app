const { buildUrl } = require('@evershop/evershop/src/lib/router/buildUrl');
const {
  setContextValue
} = require('../../../../graphql/services/contextHelper');
const { getSetting } = require('../../../../setting/services/setting');

module.exports = async (request, response, delegate, next) => {
  setContextValue(request, 'pageInfo', {
    title: await getSetting('storeName', 'RugHarbor'),
    description: await getSetting(
      'storeDescription',
      'Welcome to our handmade carpet store, where each rug is meticulously crafted by skilled artisans to bring warmth and beauty to your home. Our collection features a wide range of designs, from traditional to modern, ensuring that there is something to suit every style and taste. Made with high-quality materials, our carpets are not only luxurious but also durable, making them a timeless addition to any space. Visit us today to browse our exquisite selection and find the perfect piece to elevate your decor.'
    ),
    url: buildUrl('homepage')
  });

  next();
};
